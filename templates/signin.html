<!DOCTYPE html>
<html>
<head>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='logo.png') }}">
    <script src="{{ url_for('static', filename='custom.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='custom.css') }}">
    <style>
        :root {
          --pink-primary: #e30045;
          --pink-light: #FFE8F0;
          --pink-background: #e30045;
        }
        .title{
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: large;
        }
        body {
          font-family: -apple-system, BlinkMacSystemFont, sans-serif;
          margin: 0;
          padding: 20px;
          background-color: #f5f5f5;
        }
    
        nav {
          display: flex;
          align-items: center;
          gap: 20px;
          margin-bottom: 20px;
        }
    
        .logo {
          display: flex;
          flex-direction: column; 
          align-items: center; 
          text-decoration: none;
          gap:5px;
          color: black;
          font-weight: bold;
          font-size: 50px;
        }
    
        .logo img {
          height: 400px;
          width: auto;
        }
    
        .nav-links {
          display: flex;
          gap: 20px;
        }
    
        .nav-links a {
          text-decoration: none;
          color: #666;
          padding-bottom: 4px;
        }
    
        .nav-links a.active {
          color: var(--pink-primary);
          border-bottom: 2px solid var(--pink-primary);
        }
    
        .container {
          display: flex;
          gap: 20px;
          max-width: 900px;
          margin: 0 auto;
        }
    
        .regular-title {
      background: #e30045;
      padding:5px;
      text-align: center;
      font-size: 24px;
      margin-bottom:80px;
    }

    /* Regular Section */
    .regular-section {
      flex: 1;
      padding: 20px;
      border-radius: 8px;
      background: #e30045;
      color: white;
      height:631.2px;
    }


    .input-with-icon {
      position: relative;
      margin-bottom: 30px;
      margin-top:30px;
    }

    .input-with-icon input {
      width: 100%;
      padding: 12px;
      padding-left: 35px;
      border: none;
      border-radius: 4px;
      box-sizing: border-box;
      background: white;
    }

    .input-with-icon i {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: #666;
    }

    .password-input {
      padding-right: 35px !important;
    }

    .toggle-password {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      background: none;
      border: none;
      color: #666;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
    }

    .form-group input {
      width: 100%;
      padding: 8px;
      border: none;
      border-radius: 4px;
      box-sizing: border-box;
    }

    .sign-in-btn {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      background: white;
      color: #d02258;
    }

    .reset-password {
      text-align: right;
      margin-bottom: 15px;
    }

    .reset-password a {
      color: white;
      text-decoration: none;
    }

    .register-link {
      text-align: center;
      margin-top:150px;
    }

    .register-link a {
      color: white;
      text-decoration: none;
      border-bottom: 1px solid white;
    }
    .ai-tools {
      font-size: 18px;
      padding: 16px;
      position: absolute;
      top: 50%; /* Center vertically */
      right: 20px; /* Align to the right */
      transform: translateY(-50%); /* Adjust for perfect vertical centering */
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px; /* Space between elements */
  }
  
  .ai-tools h3 {
      margin-bottom: 20px;
      text-align: center;
      color: #500323;
  }
  
  .square {
      width: 300px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #500323;
      color: white;
      font-size: 14px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      text-align: center;
      padding: 8px;
  }
  
  .square:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
  }
  
  .square i {
      margin-right: 5px;
      font-size: 20px;
  }       
      </style>
</head>
<body>
  <div class="container">
    <div class="regular-section">
        <div class="regular-title">Regular Sign in</div>
        <div class="input-with-icon">
          <i>‚úâÔ∏è</i>
          <input type="email" placeholder="Enter your email address">
        </div>
        <div class="input-with-icon">
          <i>üîë</i>
          <input type="password" placeholder="Enter your password" class="password-input">
          <button class="toggle-password">üëÅÔ∏è</button>
        </div>
        <div class="reset-password">
          <a href="#">Reset Password</a>
        </div>
        <button class="sign-in-btn">Sign in</button>
        <div class="register-link">
          Need to create an account? <a href="#">Register here</a>
        </div>
      </div>
      <div class="settings-container">
        <div class="settings-btn" onclick="toggleDropdown('fontDropdown')">Font</div>
        <div class="dropdown" id="fontDropdown">
            <button onclick="setFont('Arial')">Arial</button>
            <button onclick="setFont('Courier New')">Courier New</button>
            <button onclick="setFont('Georgia')">Georgia</button>
        </div>
    
        <div class="settings-btn" onclick="toggleSlider('fontSizeSlider')">Font Size</div>
        <div class="slider" id="fontSizeSlider">
            <input type="range" min="10" max="50" value="16" onchange="setFontSize(this.value)">
            <p>Font Size: <span id="fontSizeValue">16px</span></p>
        </div>
    
        <div class="settings-btn" onclick="toggleSlider('contrastSlider')">Contrast</div>
        <div class="slider" id="contrastSlider">
            <input type="range" min="0.5" max="2" value="1" step="0.1" onchange="setContrast(this.value)">
            <p>Contrast: <span id="contrastValue">1</span></p>
        </div>
    </div>
    <div>
        <a href="#" class="logo">
            <img src="equaledge.png" alt="EqualEdge Logo" >
            <span>EqualEdge</span> 
        </a>
    </div>
  </div>
  <div class="ai-tools">
    <h3>AI Tools</h3>
    <div class="square">
        <i class="fas fa-robot"></i>
        <span>Mitra</span>
    </div>
    <div class="square">
        <input type="text" id="voiceInput" placeholder="Enter your command" />
        <button onclick="sendVoiceCommand(event)">Submit</button>
        <span id="micIcon" style="cursor: pointer;" onclick="startVoiceRecognition()">üé§</span> <!-- Microphone icon -->
        <button id="stopButton" style="display: none;" onclick="stopVoiceRecognition(event)">Stop</button> <!-- Stop button -->
    </div>
    
    <div id="result"></div>
  </div>
  
<script>
  //anvaya--------------------------------------------------------
  (() => {
      let recognition;
      let timeoutId;
      let pauseTimer;
  
      function initializeSpeechRecognition() {
          if (!recognition) {
              recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
              recognition.lang = 'en-US';
              recognition.interimResults = false;
              recognition.maxAlternatives = 1;
              recognition.continuous = false;
  
              recognition.onresult = function (event) {
                  const transcript = event.results[0][0].transcript.toLowerCase();
                  console.log("Recognized command:", transcript);
                  document.getElementById("voiceInput").value = transcript;
  
                  fetch('/process_command', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ command: transcript }),
                  })
                      .then((response) => response.json())
                      .then((data) => {
                          if (data.redirect_url) {
                              window.location.href = data.redirect_url;
                          }
                      })
                      .catch((err) => console.error("Error:", err));
              };
  
              recognition.onerror = function (event) {
                  console.error("Error occurred in recognition:", event.error);
              };
  
              recognition.onend = function () {
                  console.log("Speech recognition ended.");
                  if (!pauseTimer) recognition.start();
              };
          }
      }
  
      window.startVoiceRecognition = function () {
          initializeSpeechRecognition();
          try {
              recognition.start();
              console.log("Speech recognition started.");
              document.getElementById("anvaya-item").classList.add("flickering");
  
              timeoutId = setTimeout(() => {
                  stopVoiceRecognition();
              }, 5000);
          } catch (error) {
              console.error("Error starting SpeechRecognition:", error);
          }
      };
  
      function stopVoiceRecognition() {
          if (recognition) {
              recognition.stop();
              console.log("Speech recognition stopped.");
          }
          resetUI();
      }
  
      function resetUI() {
          document.getElementById("anvaya-item").classList.remove("flickering");
      }
  
      document.addEventListener("keydown", function (event) {
          if (event.key === "Escape") {
              event.preventDefault();
              window.startVoiceRecognition();
          }
      });
  
      function resetPauseTimer() {
          if (pauseTimer) clearTimeout(pauseTimer);
          pauseTimer = setTimeout(() => {
              stopVoiceRecognition();
          }, 5000);
      }
  })();
  </script>
</body>

</html>